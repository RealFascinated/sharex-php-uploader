version: "3"

services:
  sharex-uploader:
    container_name: ShareX-Uploader
    image: fascinated/sharex-php-uploader:latest
    # Uncomment the following line to build the image yourself
    # build: https://git.fascinated.cc/Fascinated/sharex-php-uploader.git
    # or build it locally (you need to clone the repo first):
    # build:
    #   context: .
    restart: always
    environment:
      - TZ=America/Los_Angeles
      - MAX_UPLOAD_SIZE=500M
      - UPLOAD_SECRETS=zMxvHmRRjoS4QXQo
      - UPLOAD_DIR=./
      - USE_RANDOM_FILE_NAMES=true
      - SHOULD_CONVERT_TO_WEBP=true
      - WEBP_QUALITY=95
      - WEBP_THREADHOLD=1048576
      - FILE_NAME_LENGTH=8
    ports:
      - "80:80/tcp"
    volumes:
      - "./uploads:/var/www/html:rw"
    networks:
      - bridge

networks:
  bridge:
